<div class="min-h-screen bg-black cyber-grid relative overflow-hidden" (mousemove)="onMouseMove($event)">
  <!-- 3D Movement Background -->
  <div class="fixed inset-0 pointer-events-none">
    <!-- Layer 1 - Far background -->
    <div class="bg-layer-1" [style.transform]="'translate3d(' + mouseX * 0.02 + 'px, ' + mouseY * 0.02 + 'px, 0)'">
      <div class="bg-cube" style="top: 10%; left: 10%;"></div>
      <div class="bg-cube" style="top: 30%; left: 80%;"></div>
      <div class="bg-cube" style="top: 70%; left: 20%;"></div>
      <div class="bg-cube" style="top: 90%; left: 90%;"></div>
    </div>
    
    <!-- Layer 2 - Mid background -->
    <div class="bg-layer-2" [style.transform]="'translate3d(' + mouseX * 0.05 + 'px, ' + mouseY * 0.05 + 'px, 0)'">
      <div class="bg-triangle" style="top: 20%; left: 60%;"></div>
      <div class="bg-triangle" style="top: 50%; left: 15%;"></div>
      <div class="bg-triangle" style="top: 80%; left: 70%;"></div>
    </div>
    
    <!-- Layer 3 - Near background -->
    <div class="bg-layer-3" [style.transform]="'translate3d(' + mouseX * 0.08 + 'px, ' + mouseY * 0.08 + 'px, 0)'">
      <div class="bg-circle" style="top: 15%; left: 40%;"></div>
      <div class="bg-circle" style="top: 60%; left: 85%;"></div>
      <div class="bg-circle" style="top: 85%; left: 30%;"></div>
    </div>
  </div>
  
  <!-- Matrix Background Effect -->
  <div class="fixed inset-0 matrix-bg pointer-events-none"></div>
  
  <!-- Navigation -->
  <nav class="fixed top-0 w-full z-50 bg-black/80 backdrop-blur-sm neon-border border-t-0 border-l-0 border-r-0">
    <div class="max-w-7xl mx-auto px-6 py-4">
      <div class="flex justify-between items-center">
        <div class="flex items-center space-x-3">
          <h1 class="text-2xl font-bold neon-text pulse-animation">TOPP</h1>
        </div>
        
        <!-- Desktop Menu -->
        <div class="hidden md:flex space-x-8 items-center">
          <button (click)="navigateToSection('home')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'home'">Home</button>
          <button (click)="navigateToSection('experience')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'experience'">Experience</button>
          <button (click)="navigateToSection('projects')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'projects'">Projects</button>
          <button (click)="navigateToSection('skills')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'skills'">Skills</button>
          <button (click)="navigateToSection('about')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'about'">About</button>
          <button (click)="navigateToSection('chat')"
                  class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider px-3 py-2 rounded"
                  [class.neon-text]="currentSection === 'chat'">Chat</button>
          
          <!-- Links Dropdown -->
          <div class="relative">
            <button (click)="showLinksMenu = !showLinksMenu" class="nav-item nav-button text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider flex items-center px-3 py-2 rounded nav-glow">
              Links
              <svg class="w-4 h-4 ml-1 transition-transform duration-300" [class.rotate-180]="showLinksMenu" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="dropdown-menu absolute top-full right-0 mt-2 w-40 bg-gray-900/95 border border-cyan-500/30 rounded-lg shadow-lg z-50" [class.show]="showLinksMenu">
              <button (click)="openResume(); showLinksMenu = false" class="dropdown-item w-full text-left px-4 py-3 text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-sm flex items-center">
                <span class="mr-3 text-lg">ðŸ“„</span>Resume
              </button>
              <button (click)="openGithub(); showLinksMenu = false" class="dropdown-item w-full text-left px-4 py-3 text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-sm flex items-center">
                <span class="mr-3 text-lg">ðŸ’»</span>GitHub
              </button>
              <button (click)="openLinkedin(); showLinksMenu = false" class="dropdown-item w-full text-left px-4 py-3 text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-sm flex items-center">
                <span class="mr-3 text-lg">ðŸ’¼</span>LinkedIn
              </button>
            </div>
          </div>
        </div>
        
        <!-- Mobile Menu Button -->
        <button (click)="toggleMobileMenu()" class="md:hidden text-cyan-400 hover:text-cyan-300">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path *ngIf="!mobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            <path *ngIf="mobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      
      <!-- Mobile Menu -->
      <div class="mobile-menu md:hidden mt-4 pb-4 border-t border-gray-700" [class.open]="mobileMenuOpen">
        <div class="flex flex-col space-y-4 pt-4">
          <button (click)="navigateToSection('home')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'home'">Home</button>
          <button (click)="navigateToSection('experience')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'experience'">Experience</button>
          <button (click)="navigateToSection('projects')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'projects'">Projects</button>
          <button (click)="navigateToSection('skills')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'skills'">Skills</button>
          <button (click)="navigateToSection('about')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'about'">About</button>
          <button (click)="navigateToSection('chat')" 
                  class="mobile-nav-item text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left px-3 py-2 rounded nav-glow"
                  [class.neon-text]="currentSection === 'chat'">Chat</button>
          
          <!-- Mobile Links Submenu -->
          <button (click)="mobileLinksOpen = !mobileLinksOpen" 
                  class="text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left flex items-center">
            Links
            <svg class="w-4 h-4 ml-1 transition-transform" [class.rotate-180]="mobileLinksOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div *ngIf="mobileLinksOpen" class="ml-4 space-y-2">
            <button (click)="openLinkedin(); mobileLinksOpen = false" 
               class="block text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left text-sm">
              LinkedIn
            </button>
            <button (click)="openResume(); mobileLinksOpen = false" 
               class="block text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left text-sm">
              Resume
            </button>
            <button (click)="openGithub(); mobileLinksOpen = false" 
               class="block text-gray-300 hover:text-cyan-400 transition-colors uppercase tracking-wider text-left text-sm">
              GitHub
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="pt-20 relative z-10">
    
    <!-- Home Section -->
    <app-home *ngIf="currentSection === 'home'" 
              [info]="info" 
              [isOpenNewJob]="isOpenNewJob"
              (navigateToSection)="navigateToSection($event)">
    </app-home>

    <!-- About Section -->
    <app-about *ngIf="currentSection === 'about'"
               [info]="info"
               [education]="education"
               (showInfoDetail)="showInfoDetail($event)"
               (showEducationDetail)="showEducationDetail($event)">
    </app-about>

    <!-- Experience Section -->
    <app-experience *ngIf="currentSection === 'experience'"
                    [workExperience]="workExperience"
                    (showWorkDetail)="showWorkDetail($event)">
    </app-experience>

    <!-- Projects Section -->
    <app-projects *ngIf="currentSection === 'projects'"
                  [projects]="projects"
                  (showProjectDetail)="showProjectDetail($event)"
                 >
    </app-projects>
    
    <!-- Project Detail Modal -->
    <app-project-detail-modal [selectedProject]="selectedProject"
                              (closeModal)="closeProjectDetail()">
    </app-project-detail-modal>
    
    <!-- Education Detail Modal -->
    <app-education-detail-modal [selectedEducation]="selectedEducation"
                                (closeModal)="closeEducationDetail()">
    </app-education-detail-modal>
    
    <!-- Work Detail Modal -->
    <app-work-detail-modal [selectedWork]="selectedWork"
                           (closeModal)="closeWorkDetail()">
    </app-work-detail-modal>
    
    <!-- Info Detail Modal -->
    <app-info-detail-modal [selectedInfo]="selectedInfo"
                           (closeModal)="closeInfoDetail()">
    </app-info-detail-modal>

    <!-- Skills Section -->
    <app-skills *ngIf="currentSection === 'skills'"
                [languages]="languages"
                [programs]="programs">
    </app-skills>

    <!-- Chat Section -->
    <app-chat *ngIf="currentSection === 'chat'"
              [chatMessages]="chatMessages"
              [userInput]="userInput"
              [isLoading]="isLoading"
              (userInputChange)="userInput = $event"
              (sendMessage)="sendMessage()">
    </app-chat>
    
  </main>
</div>

<router-outlet></router-outlet>